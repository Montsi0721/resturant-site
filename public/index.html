<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gourmet Delight - Fine Dining Experience</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        body::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        body {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: 0px;
            /* Firefox */
        }

        body {
            background-color: #f9f9f9;
            color: #333;
            line-height: 1.6;
            margin: 5px 10px 10px 10px;
        }

        body.dark-mode {
            background: #222;
            color: #eee;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header and Navigation */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            background: #e0e0e0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: background 0.3s ease;
        }

        body.dark-mode .header {
            background: #333;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #555;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.dark-mode .logo {
            color: #eee;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            border-radius: 50%;
            color: white;
        }

        /* Header right section with search, login and menu */
        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Search container with hover functionality */
        .search-container {
            position: relative;
            height: 50px;
            display: flex;
            align-items: center;
            transition: all 0.4s ease;
        }

        .search-input {
            width: 0;
            height: 50px;
            border: none;
            background: #e0e0e0;
            border-radius: 25px;
            padding: 0 20px;
            font-size: 18px;
            outline: none;
            opacity: 0;
            transition: all 0.4s ease;
            box-shadow:
                inset 3px 3px 5px rgba(0, 0, 0, 0.2),
                inset -3px -3px 5px rgba(255, 255, 255, 0.8);
        }

        body.dark-mode .search-input {
            background: #333;
            color: #eee;
            box-shadow:
                inset 3px 3px 5px rgba(0, 0, 0, 0.5),
                inset -3px -3px 5px rgba(60, 60, 60, 0.8);
        }

        .search-icon {
            width: 50px;
            height: 50px;
            background: #e0e0e0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 2;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.2),
                -3px -3px 5px rgba(255, 255, 255, 0.8);
            transition: all 0.4s ease;
            position: absolute;
            right: 0;
        }

        body.dark-mode .search-icon {
            background: #333;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.5),
                -3px -3px 5px rgba(60, 60, 60, 0.8);
        }

        .search-icon i {
            font-size: 20px;
            color: #555;
        }

        body.dark-mode .search-icon i {
            color: #aaa;
        }

        /* Hover state for search */
        .search-container:hover .search-input {
            width: 250px;
            opacity: 1;
            padding-right: 60px;
        }

        .search-container:hover .search-icon {
            background: transparent;
            box-shadow: none;
        }

        /* Login/Signup Button */
        .login-btn {
            padding: 10px 20px;
            background: #e0e0e0;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            color: #555;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.2),
                -3px -3px 5px rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        body.dark-mode .login-btn {
            background: #333;
            color: #eee;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.5),
                -3px -3px 5px rgba(60, 60, 60, 0.8);
        }

        .login-btn:hover {
            box-shadow:
                inset 3px 3px 5px rgba(0, 0, 0, 0.2),
                inset -3px -3px 5px rgba(255, 255, 255, 0.8);
            transform: translateY(2px);
        }

        body.dark-mode .login-btn:hover {
            box-shadow:
                inset 3px 3px 5px rgba(0, 0, 0, 0.5),
                inset -3px -3px 5px rgba(60, 60, 60, 0.8);
        }

        /* Menu button */
        .menu-btn {
            width: 50px;
            height: 50px;
            background: #e0e0e0;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.2),
                -3px -3px 5px rgba(255, 255, 255, 0.8);
            z-index: 101;
        }

        body.dark-mode .menu-btn {
            background: #333;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.5),
                -3px -3px 5px rgba(60, 60, 60, 0.8);
        }

        .menu-line {
            width: 25px;
            height: 3px;
            background: #555;
            margin: 3px 0;
            transition: all 0.3s ease;
        }

        body.dark-mode .menu-line {
            background: #aaa;
        }

        .menu-btn.active .menu-line:nth-child(1) {
            transform: translateY(8px) rotate(45deg);
        }

        .menu-btn.active .menu-line:nth-child(2) {
            opacity: 0;
        }

        .menu-btn.active .menu-line:nth-child(3) {
            transform: translateY(-8px) rotate(-45deg);
        }

        /* Navigation Menu */
        .nav-menu {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100vh;
            background: #e0e0e0;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            transition: right 0.4s ease-in-out;
            z-index: 99;
            padding: 80px 20px 20px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        /* Theme toggle in menu */
        .theme-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.slider {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
        }

        input:checked+.slider:before {
            transform: translateX(30px);
        }

        /* Hide scrollbar for nav menu */
        .nav-menu::-webkit-scrollbar {
            display: none;
        }

        .nav-menu {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }

        body.dark-mode .nav-menu {
            background: #333;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
        }

        .nav-menu.active {
            right: 0;
        }

        .nav-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #ccc;
        }

        body.dark-mode .nav-header {
            border-bottom: 1px solid #555;
        }

        .nav-header h2 {
            margin: 0;
            color: #555;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        body.dark-mode .nav-header h2 {
            color: #eee;
        }

        .nav-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .nav-item {
            padding: 15px;
            border-radius: 10px;
            background: #e0e0e0;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.1),
                -3px -3px 5px rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        body.dark-mode .nav-item {
            background: #333;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.3),
                -3px -3px 5px rgba(60, 60, 60, 0.5);
        }

        .nav-item:hover {
            transform: translateY(-2px);
            box-shadow:
                5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.8);
        }

        body.dark-mode .nav-item:hover {
            box-shadow:
                5px 5px 10px rgba(0, 0, 0, 0.3),
                -5px -5px 10px rgba(60, 60, 60, 0.5);
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-text {
            font-size: 18px;
            color: #555;
            flex: 1;
        }

        body.dark-mode .nav-text {
            color: #eee;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 1.5rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #e67e22;
        }

        /* Gallery Styles */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .gallery-item {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
        }

        /* Gallery Styles */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .gallery-item {
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .gallery-item:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }

        /* Close Gallery Button */
        #closeGalleryBtn {
            padding: 12px 24px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        #closeGalleryBtn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        /* Enlarged Image View */
        .image-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            cursor: pointer;
        }

        .enlarged-image {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        /* Special Offers Styles */
        .special-price {
            color: #e74c3c;
            font-weight: bold;
        }

        .original-price {
            text-decoration: line-through;
            color: #999;
            margin-right: 10px;
        }

        /* Navigation item active state */
        .nav-item.active {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
        }

        .nav-item.active .nav-text {
            color: white;
        }

        .nav-item.active .nav-icon {
            color: white;
        }

        /* Progress bar */
        .progress-container {
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            height: 4px;
            background: transparent;
            z-index: 1000;
        }

        .progress-bar {
            height: 4px;
            background: linear-gradient(90deg, #6a11cb, #2575fc);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Main content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .section-title {
            font-size: 28px;
            margin: 40px 0 20px;
            color: #555;
            text-align: center;
            position: relative;
        }

        body.dark-mode .section-title {
            color: #eee;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, #6a11cb, #2575fc);
            margin: 10px auto;
            border-radius: 2px;
        }

        /* Card styles */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .card {
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow:
                8px 8px 16px rgba(0, 0, 0, 0.1),
                -8px -8px 16px rgba(255, 255, 255, 0.8);
        }

        body.dark-mode .card {
            background: #333;
            box-shadow:
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(60, 60, 60, 0.5);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow:
                12px 12px 24px rgba(0, 0, 0, 0.15),
                -12px -12px 24px rgba(255, 255, 255, 0.8);
        }

        body.dark-mode .card:hover {
            box-shadow:
                12px 12px 24px rgba(0, 0, 0, 0.4),
                -12px -12px 24px rgba(60, 60, 60, 0.6);
        }

        .card-img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .card-content {
            padding: 20px;
        }

        .card-title {
            font-size: 20px;
            margin: 0 0 10px;
            color: #555;
        }

        body.dark-mode .card-title {
            color: #eee;
        }

        .card-text {
            color: #777;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        body.dark-mode .card-text {
            color: #ccc;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .card-btn {
            padding: 8px 16px;
            background: #e0e0e0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            color: #555;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.1),
                -3px -3px 5px rgba(255, 255, 255, 0.8);
            transition: all 0.2s ease;
        }

        body.dark-mode .card-btn {
            background: #333;
            color: #eee;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.3),
                -3px -3px 5px rgba(60, 60, 60, 0.5);
        }

        .card-btn:hover {
            box-shadow:
                inset 3px 3px 5px rgba(0, 0, 0, 0.1),
                inset -3px -3px 5px rgba(255, 255, 255, 0.8);
        }

        body.dark-mode .card-btn:hover {
            box-shadow:
                inset 3px 3px 5px rgba(0, 0, 0, 0.3),
                inset -3px -3px 5px rgba(60, 60, 60, 0.5);
        }

        .price {
            font-size: 14px;
            color: #888;
        }

        body.dark-mode .price {
            color: #aaa;
        }

        /* Notification badge */
        .notification-badge {
            position: fixed;
            top: 15px;
            left: 15px;
            width: 25px;
            height: 25px;
            background: linear-gradient(135deg, #ff7e5f, #feb47b);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 102;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Search Results Styles */
        .search-results {
            margin: 20px 0;
            padding: 20px;
            background: #e0e0e0;
            border-radius: 15px;
            box-shadow: 8px 8px 16px rgba(0, 0, 0, 0.1), -8px -8px 16px rgba(255, 255, 255, 0.8);
        }

        body.dark-mode .search-results {
            background: #333;
            box-shadow: 8px 8px 16px rgba(0, 0, 0, 0.3), -8px -8px 16px rgba(60, 60, 60, 0.5);
        }

        .search-results h3 {
            color: #555;
            margin-bottom: 15px;
            text-align: center;
        }

        body.dark-mode .search-results h3 {
            color: #eee;
        }

        .no-results {
            text-align: center;
            color: #777;
            font-style: italic;
        }

        body.dark-mode .no-results {
            color: #ccc;
        }

        /* Highlight matching text */
        .highlight {
            background-color: yellow;
            color: black;
            font-weight: bold;
            padding: 0 2px;
        }

        body.dark-mode .highlight {
            background-color: #ffeb3b;
            color: #000;
        }

        /* Search container expanded state */
        .search-container.expanded .search-input {
            width: 250px;
            opacity: 1;
            padding-right: 60px;
        }

        .search-container.expanded .search-icon {
            background: transparent;
            box-shadow: none;
        }

        /* Back to top button */
        .back-to-top {
            position: fixed;
            bottom: 110px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: #e0e0e0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.2),
                -3px -3px 5px rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
            z-index: 90;
            opacity: 0;
            visibility: hidden;
        }

        body.dark-mode .back-to-top {
            background: #333;
            box-shadow:
                3px 3px 5px rgba(0, 0, 0, 0.5),
                -3px -3px 5px rgba(60, 60, 60, 0.8);
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            transform: translateY(-5px);
        }

        /* About Section */
        .about {
            background: #2c3e50;
            color: white;
            padding: 4rem 0;
        }

        .about-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        .about-text {
            flex: 1;
            min-width: 300px;
            padding-right: 2rem;
        }

        .about-image {
            flex: 1;
            min-width: 300px;
        }

        .about-image img {
            width: 100%;
            border-radius: 8px;
        }

        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal.visible {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: #e0e0e0;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        body.dark-mode .modal-content {
            background: #333;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #555;
        }

        body.dark-mode .modal-close {
            color: #eee;
        }

        /* Footer */
        footer {
            background: #2c3e50;
            color: white;
            padding: 2rem 0;
            text-align: center;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .footer-section {
            flex: 1;
            min-width: 250px;
            margin-bottom: 1.5rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: #e67e22;
        }

        .social-links a {
            color: white;
            margin-right: 1rem;
            font-size: 1.5rem;
            text-decoration: none;
        }

        .copyright {
            margin-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .about-content {
                flex-direction: column;
            }

            .about-text {
                padding-right: 0;
                margin-bottom: 2rem;
            }
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="logo">
            <div class="logo-icon"><i class="fas fa-utensils"></i></div>
            <span>Savory Delights</span>
        </div>

        <!-- Header right section with search, reservation and menu -->
        <div class="header-right">
            <!-- Search Bar with Hover Functionality -->
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search menu...">
                <div class="search-icon">
                    <i class="fas fa-search"></i>
                </div>
            </div>

            <!-- Reservation Button -->
            <button class="login-btn" id="reservationBtn">
                <i class="fas fa-calendar-alt"></i>
                <span>Reserve</span>
            </button>

            <!-- Menu Button -->
            <div class="menu-btn" id="menuBtn">
                <div class="menu-line"></div>
                <div class="menu-line"></div>
                <div class="menu-line"></div>
            </div>
        </div>
    </header>

    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-utensils"></i>
        <span>Welcome to Savory Delights!</span>
    </div>

    <!-- Navigation Menu -->
    <nav class="nav-menu" id="navMenu">
        <div class="nav-header">
            <h2><i class="fas fa-bars"></i> Menu</h2>
        </div>
        <div class="nav-items">
            <div class="nav-item">
                <div class="nav-icon"><i class="fas fa-home"></i></div>
                <div class="nav-text">Home</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon"><i class="fas fa-utensils"></i></div>
                <div class="nav-text">Our Menu</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon"><i class="fas fa-image"></i></div>
                <div class="nav-text">Gallery</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon"><i class="fas fa-star"></i></div>
                <div class="nav-text">Special Offers</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon"><i class="fas fa-phone"></i></div>
                <div class="nav-text">Contact</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon"><i class="fas fa-info-circle"></i></div>
                <div class="nav-text">About Us</div>
            </div>

            <!-- Theme Toggle in Menu -->
            <div class="nav-item">
                <div class="nav-icon"><i class="fas fa-moon"></i></div>
                <div class="nav-text">Dark Mode</div>
                <label class="toggle-switch">
                    <input type="checkbox" id="themeToggle">
                    <span class="slider"></span>
                </label>
            </div>
        </div>
    </nav>

    <h2 class="section-title">Welcome to Savory Delights</h2>

    <!-- Menu Section -->
    <section id="menu">
        <h2 class="section-title">Our Menu</h2>
        <div class="card-grid" id="menu-items">
            <!-- Menu items will be loaded dynamically from the backend -->
        </div>
    </section>

    <!-- Reservation Modal -->
    <div class="modal" id="reservationModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">&times;</button>
            <h2>Make a Reservation</h2>
            <p>Book your table for an unforgettable dining experience</p>
            <form style="margin-top: 20px;" id="reservationForm">
                <div style="margin-bottom: 15px;">
                    <label for="name" style="display: block; margin-bottom: 5px;">Name</label>
                    <input type="text" id="name" required
                        style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="email" style="display: block; margin-bottom: 5px;">Email</label>
                    <input type="email" id="email" required
                        style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="phone" style="display: block; margin-bottom: 5px;">Phone</label>
                    <input type="tel" id="phone" required
                        style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="date" style="display: block; margin-bottom: 5px;">Date</label>
                    <input type="date" id="date" required
                        style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="time" style="display: block; margin-bottom: 5px;">Time</label>
                    <input type="time" id="time" required
                        style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="guests" style="display: block; margin-bottom: 5px;">Number of Guests</label>
                    <input type="number" id="guests" min="1" max="20" required
                        style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                </div>
                <button type="submit"
                    style="width: 100%; padding: 12px; background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">Book
                    Table</button>
            </form>
        </div>
    </div>

    <div class="card-grid">
        <div class="card">
            <div class="card-content">
                <h3 class="card-title">Hours</h3>
                <p class="card-text">Monday - Thursday: 5pm - 10pm</p>
                <p class="card-text">Friday - Saturday: 5pm - 11pm</p>
                <p class="card-text">Sunday: 11am - 9pm</p>
            </div>
        </div>
    </div>

    <div class="card-grid">
        <div class="card">
            <div class="card-content">
                <h3 class="card-title">Contact Us</h3>
                <form id="contactForm">
                    <div style="margin-bottom: 15px;">
                        <input type="text" name="name" id="contactName" placeholder="Your Name" required
                            style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <input type="email" name="email" id="contactEmail" placeholder="Your Email" required
                            style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <textarea name="message" id="contactMessage" placeholder="Your Message" rows="3" required
                            style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);"></textarea>
                    </div>
                    <button type="submit"
                        style="width: 100%; padding: 12px; background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">Send
                        Message</button>
                </form>
            </div>
        </div>
    </div>

    <div class="card-grid">
        <div class="card">
            <div class="card-content">
                <h3 class="card-title">Follow Us</h3>
                <p class="card-text">
                    <a href="#" style="color: #555; margin-right: 10px;"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" style="color: #555; margin-right: 10px;"><i class="fab fa-twitter"></i></a>
                    <a href="#" style="color: #555; margin-right: 10px;"><i class="fab fa-instagram"></i></a>
                    <a href="#" style="color: #555;"><i class="fab fa-linkedin-in"></i></a>
                </p>
            </div>
        </div>
    </div>

    <div class="card-grid">
        <div class="card">
            <div class="card-content">
                <h2 class="card-title">Our Story</h2>
                <p class="card-text">Founded in 2010, Gourmet Delight has been serving exceptional cuisine crafted from
                    the finest
                    locally-sourced ingredients. Our chef brings over 20 years of international experience to create
                    dishes that delight the senses.</p>
                <p class="card-text">We believe in creating memorable dining experiences through exceptional food,
                    impeccable service,
                    and a warm, inviting atmosphere.</p>
            </div>
        </div>
    </div>


    <div class="copyright">
        <p>&copy; 2023 Gourmet Delight. All rights reserved.</p>
    </div>

    <script>
        // Frontend JavaScript
        let allMenuItems = []; // Moved to global scope

        document.addEventListener('DOMContentLoaded', function () {
            // Fetch menu items from backend
            fetch('http://localhost:3000/api/menu')
                .then(response => response.json())
                .then(menuItems => {
                    allMenuItems = menuItems;
                    const menuContainer = document.getElementById('menu-items');
                    renderMenuItems(menuItems, menuContainer);

                    // Add event listeners to order buttons
                    document.querySelectorAll('.order-btn').forEach(button => {
                        button.addEventListener('click', function () {
                            const itemId = this.getAttribute('data-id');
                            const itemName = this.getAttribute('data-name');
                            const itemPrice = parseFloat(this.getAttribute('data-price'));

                            // Show order modal
                            showOrderModal(itemId, itemName, itemPrice);
                        });
                    });
                })
                .catch(error => console.error('Error loading menu:', error));

            // Handle reservation form submission
            const reservationForm = document.getElementById('reservationForm');
            reservationForm.addEventListener('submit', function (e) {
                e.preventDefault();

                const formData = {
                    name: document.getElementById('name').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    date: document.getElementById('date').value,
                    time: document.getElementById('time').value,
                    guests: document.getElementById('guests').value,
                    message: document.getElementById('message')?.value || ''
                };

                fetch('http://localhost:3000/api/reservations', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                })
                    .then(response => response.json())
                    .then(data => {
                        alert('Reservation submitted successfully!');
                        reservationForm.reset();
                        document.getElementById('reservationModal').classList.remove('visible');
                    })
                    .catch(error => {
                        console.error('Error submitting reservation:', error);
                        alert('There was an error submitting your reservation. Please try again.');
                    });
            });

            // Handle contact form submission
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', function (e) {
                    e.preventDefault();

                    const formData = {
                        name: document.getElementById('contactName').value,
                        email: document.getElementById('contactEmail').value,
                        message: document.getElementById('contactMessage').value
                    };

                    fetch('http://localhost:3000/api/contact', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(formData)
                    })
                        .then(response => response.json())
                        .then(data => {
                            if (data.success) {
                                alert('Your message has been sent successfully!');
                                contactForm.reset();
                            } else {
                                alert('There was an error sending your message. Please try again.');
                            }
                        })
                        .catch(error => {
                            console.error('Error sending message:', error);
                            alert('There was an error sending your message. Please try again.');
                        });
                });
            }
           
            // Search input handling
            const searchInput = document.querySelector('.search-input');
            const searchContainer = document.querySelector('.search-container');
            const searchIcon = document.querySelector('.search-icon');

            // Expand search on icon click
            searchIcon.addEventListener('click', function () {
                searchContainer.classList.add('expanded');
                searchInput.focus();
            });

            // Handle search input
            searchInput.addEventListener('input', function () {
                const searchTerm = this.value.trim().toLowerCase();

                if (searchTerm.length === 0) {
                    // Clear search results and show all menu items
                    document.getElementById('search-results-container')?.remove();
                    const menuContainer = document.getElementById('menu-items');
                    menuContainer.style.display = 'grid';
                    renderMenuItems(allMenuItems, menuContainer);
                    return;
                }

                //Check for admin access code
                if (searchTerm === 'admin') {
                    // Prompt for admin password
                    const password = prompt('Enter admin password:');
                    if (password) {
                        fetch('/api/admin/login', {
                            method: 'POST',
                            headers: {'Content-Type': 'application/json'},
                            body: JSON.stringify({ password: password })
                        })
                            .then(response => {response.json()})
                            .then(data => {
                                if (data && data.success) {
                                    localStorage.setItem('adminAuthenticated', 'true');
                                    const possiblePaths = [
                                        '/admin',
                                        '/admin.html',
                                        'admin',
                                        'admin.html',
                                        '../admin',
                                        '../admin.html'
                                    ];

                                    // Try each path until one works
                                    let adminLoaded = false;
                                    for (const path of possiblePaths) {
                                        try {
                                            window.location.href = path;
                                            adminLoaded = true;
                                            break;
                                        } catch (e) {
                                            console.log(`Path ${path} failed, trying next...`);
                                        }
                                    }
                                } else {
                                    alert('Invalid admin password');
                                }
                            })
                            .catch(error => {
                                console.error('Admin login error:', error);
                                alert('Error accessing admin panel');
                            });
                    }
                    this.value = '';
                    return;
                }

                // Filter menu items based on search term
                const filteredItems = allMenuItems.filter(item => {
                    const nameMatch = item.name.toLowerCase().includes(searchTerm);
                    const descriptionMatch = item.description.toLowerCase().includes(searchTerm);
                    return nameMatch || descriptionMatch;
                });

                // Display search results
                displaySearchResults(filteredItems, searchTerm);
            });

            // Close search when clicking outside
            document.addEventListener('click', function (e) {
                if (!searchContainer.contains(e.target) && searchInput.value.trim() === '') {
                    searchContainer.classList.remove('expanded');
                }
            });

            // Navigation menu functionality
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', function (e) {
                    // Don't process clicks on the theme toggle
                    if (e.target.closest('.toggle-switch')) return;

                    const navText = this.querySelector('.nav-text').textContent;
                    handleNavItemClick(navText);

                    // Close menu after selection
                    document.getElementById('menuBtn').classList.remove('active');
                    document.getElementById('navMenu').classList.remove('active');
                    overlay.classList.remove('active');
                });
            });
        });

        // Function to handle navigation item clicks
        function handleNavItemClick(navItem) {
            switch (navItem) {
                case 'Home':
                    scrollToSection('welcome');
                    break;
                case 'Our Menu':
                    scrollToSection('menu');
                    break;
                case 'Gallery':
                    showGallery();
                    break;
                case 'Special Offers':
                    showSpecialOffers();
                    break;
                case 'Contact':
                    scrollToContact();
                    break;
                case 'About Us':
                    scrollToAbout();
                    break;
                default:
                    console.log('Navigation item not implemented:', navItem);
            }
        }

        // Function to scroll to welcome section
        function scrollToSection(sectionId) {
            let element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Function to scroll to contact
        function scrollToContact() {
            const contactCards = document.querySelectorAll('.card');
            for (let card of contactCards) {
                if (card.querySelector('.card-title') && card.querySelector('.card-title').textContent.includes('Contact')) {
                    card.scrollIntoView({ behavior: 'smooth' });
                    break;
                }
            }
        }

        // Function to scroll to about
        function scrollToAbout() {
            const aboutCards = document.querySelectorAll('.card');
            for (let card of aboutCards) {
                if (card.querySelector('.card-title') && card.querySelector('.card-title').textContent.includes('Our Story')) {
                    card.scrollIntoView({ behavior: 'smooth' });
                    break;
                }
            }
        }

        // Function to show gallery
        // Function to show gallery
        function showGallery() {
            // Clear any previous search results
            document.getElementById('search-results-container')?.remove();
            document.getElementById('gallery-container')?.remove();
            document.getElementById('offers-container')?.remove();

            const menuContainer = document.getElementById('menu-items');
            menuContainer.style.display = 'grid';

            // Restaurant ambiance images
            const restaurantImages = [
                "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",
                "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",
                "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",
                "https://images.unsplash.com/photo-1514933651103-005eec06c04b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",
                "https://images.unsplash.com/photo-1590846406792-0adc7f938f1d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",
                "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
            ];

            // Combine restaurant images with menu item images
            const allGalleryImages = [
                ...restaurantImages,
                ...allMenuItems.map(item => item.image)
            ];

            // Create gallery view
            const galleryContainer = document.createElement('div');
            galleryContainer.id = 'gallery-container';
            galleryContainer.className = 'search-results';
            galleryContainer.innerHTML = `
            <h3>Our Restaurant Gallery</h3>
            <p style="text-align: center; margin-bottom: 30px;">Take a visual tour of our restaurant and delicious dishes</p>
            
            <div class="gallery-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin: 30px 0;">
                ${allGalleryImages.map((image, index) => `
                    <div class="gallery-item" style="border-radius: 12px; overflow: hidden; box-shadow: 0 6px 12px rgba(0,0,0,0.1); transition: transform 0.3s ease; cursor: pointer;">
                        <img src="${image}" alt="Gallery image ${index + 1}" style="width: 100%; height: 250px; object-fit: cover;">
                    </div>
                `).join('')}
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button id="closeGalleryBtn" style="padding: 12px 24px; background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); color: white; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 8px rgba(0,0,0,0.2); transition: all 0.3s ease;">
                    Close Gallery
                </button>
            </div>
        `;

            // Insert gallery after the menu section
            const menuSection = document.getElementById('menu');
            menuSection.appendChild(galleryContainer);

            // Add hover effects
            setTimeout(() => {
                document.querySelectorAll('.gallery-item').forEach(item => {
                    item.addEventListener('mouseenter', function () {
                        this.style.transform = 'scale(1.05)';
                        this.style.boxShadow = '0 10px 20px rgba(0,0,0,0.2)';
                    });
                    item.addEventListener('mouseleave', function () {
                        this.style.transform = 'scale(1)';
                        this.style.boxShadow = '0 6px 12px rgba(0,0,0,0.1)';
                    });

                    // Add click to enlarge functionality
                    item.addEventListener('click', function () {
                        const imgSrc = this.querySelector('img').src;
                        showEnlargedImage(imgSrc);
                    });
                });

                // Add close gallery button functionality
                document.getElementById('closeGalleryBtn').addEventListener('click', function () {
                    galleryContainer.remove();
                });

                // Add hover effect to close button
                const closeBtn = document.getElementById('closeGalleryBtn');
                closeBtn.addEventListener('mouseenter', function () {
                    this.style.transform = 'translateY(-2px)';
                    this.style.boxShadow = '0 6px 12px rgba(0,0,0,0.3)';
                });
                closeBtn.addEventListener('mouseleave', function () {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
                });
            }, 100);

            // Scroll to gallery
            galleryContainer.scrollIntoView({ behavior: 'smooth' });
        }

        // Function to show enlarged image
        function showEnlargedImage(src) {
            // Create overlay for enlarged image
            const overlay = document.createElement('div');
            overlay.style.position = 'fixed';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.width = '100%';
            overlay.style.height = '100%';
            overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.9)';
            overlay.style.display = 'flex';
            overlay.style.alignItems = 'center';
            overlay.style.justifyContent = 'center';
            overlay.style.zIndex = '2000';
            overlay.style.cursor = 'pointer';

            // Create image element
            const img = document.createElement('img');
            img.src = src;
            img.style.maxWidth = '90%';
            img.style.maxHeight = '90%';
            img.style.objectFit = 'contain';
            img.style.borderRadius = '8px';
            img.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.5)';

            // Add click to close functionality
            overlay.addEventListener('click', function () {
                document.body.removeChild(overlay);
            });

            // Add to document
            overlay.appendChild(img);
            document.body.appendChild(overlay);

            // Add escape key to close
            const keyHandler = function (e) {
                if (e.key === 'Escape') {
                    document.body.removeChild(overlay);
                    document.removeEventListener('keydown', keyHandler);
                }
            };
            document.addEventListener('keydown', keyHandler);
        }

        // Function to show special offers
        function showSpecialOffers() {
            // Filter menu items that could be special offers (lower priced items)
            const specialOffers = allMenuItems.filter(item => item.price < 15);

            // Clear any previous containers
            document.getElementById('search-results-container')?.remove();
            document.getElementById('gallery-container')?.remove();
            document.getElementById('offers-container')?.remove();

            const menuContainer = document.getElementById('menu-items');
            menuContainer.style.display = 'grid';

            // Create special offers view
            const offersContainer = document.createElement('div');
            offersContainer.id = 'offers-container';
            offersContainer.className = 'search-results';
            offersContainer.innerHTML = `
            <h3>Special Offers</h3>
            <p style="text-align: center; margin-bottom: 20px;">Enjoy our specially priced menu items!</p>
            <div class="card-grid">
                ${specialOffers.map(item => `
                    <div class="card">
                        <img src="${item.image}" alt="${item.name}" class="card-img">
                        <div class="card-content">
                            <h3 class="card-title">${item.name} <span style="color: #e74c3c; font-size: 0.8em;">SPECIAL</span></h3>
                            <p class="card-text">${item.description}</p>
                            <div class="card-footer">
                                <p class="price" style="text-decoration: line-through; color: #999;">$${(item.price * 1.2).toFixed(2)}</p>
                                <p class="price" style="color: #e74c3c; font-weight: bold;">$${item.price.toFixed(2)}</p>
                                <button class="card-btn order-btn" data-id="${item.id}" data-name="${item.name}" data-price="${item.price}">Order Now</button>
                            </div>
                        </div>
                    </div>
                `).join('')}
            </div>
        `;

            // Insert offers after the menu section
            const menuSection = document.getElementById('menu');
            menuSection.appendChild(offersContainer);

            // Reattach event listeners to order buttons
            setTimeout(() => {
                document.querySelectorAll('.order-btn').forEach(button => {
                    button.addEventListener('click', function () {
                        const itemId = this.getAttribute('data-id');
                        const itemName = this.getAttribute('data-name');
                        const itemPrice = parseFloat(this.getAttribute('data-price'));

                        // Show order modal
                        showOrderModal(itemId, itemName, itemPrice);
                    });
                });
            }, 0);

            // Scroll to offers
            offersContainer.scrollIntoView({ behavior: 'smooth' });
        }

        // Function to render menu items
        function renderMenuItems(menuItems, container) {
            container.innerHTML = '';
            menuItems.forEach(item => {
                const menuItemElement = document.createElement('div');
                menuItemElement.className = 'card';
                menuItemElement.innerHTML = `
                <img src="${item.image}" alt="${item.name}" class="card-img">
                <div class="card-content">
                    <h3 class="card-title">${item.name}</h3>
                    <p class="card-text">${item.description}</p>
                    <div class="card-footer">
                        <p class="price">$${item.price.toFixed(2)}</p>
                        <button class="card-btn order-btn" data-id="${item.id}" data-name="${item.name}" data-price="${item.price}">Order Now</button>
                    </div>
                </div>
            `;
                container.appendChild(menuItemElement);
            });

            // Reattach event listeners to order buttons
            document.querySelectorAll('.order-btn').forEach(button => {
                button.addEventListener('click', function () {
                    const itemId = this.getAttribute('data-id');
                    const itemName = this.getAttribute('data-name');
                    const itemPrice = parseFloat(this.getAttribute('data-price'));

                    // Show order modal
                    showOrderModal(itemId, itemName, itemPrice);
                });
            });
        }

        // Function to display search results
        function displaySearchResults(filteredItems, searchTerm) {
            // Hide the regular menu
            const menuContainer = document.getElementById('menu-items');
            menuContainer.style.display = 'none';

            // Remove previous search results if they exist
            document.getElementById('search-results-container')?.remove();

            // Create search results container
            const searchResultsContainer = document.createElement('div');
            searchResultsContainer.id = 'search-results-container';
            searchResultsContainer.className = 'search-results';

            if (filteredItems.length > 0) {
                // Create results heading
                const resultsHeading = document.createElement('h3');
                resultsHeading.textContent = `Search Results for "${searchTerm}" (${filteredItems.length} items found)`;
                searchResultsContainer.appendChild(resultsHeading);

                // Create grid for search results
                const resultsGrid = document.createElement('div');
                resultsGrid.className = 'card-grid';

                // Add highlighted items to results grid
                filteredItems.forEach(item => {
                    const highlightedName = highlightText(item.name, searchTerm);
                    const highlightedDescription = highlightText(item.description, searchTerm);

                    const menuItemElement = document.createElement('div');
                    menuItemElement.className = 'card';
                    menuItemElement.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="card-img">
                    <div class="card-content">
                        <h3 class="card-title">${highlightedName}</h3>
                        <p class="card-text">${highlightedDescription}</p>
                        <div class="card-footer">
                            <p class="price">$${item.price.toFixed(2)}</p>
                            <button class="card-btn order-btn" data-id="${item.id}" data-name="${item.name}" data-price="${item.price}">Order Now</button>
                        </div>
                    </div>
                `;
                    resultsGrid.appendChild(menuItemElement);
                });

                searchResultsContainer.appendChild(resultsGrid);

                // Reattach event listeners to order buttons in search results
                setTimeout(() => {
                    document.querySelectorAll('.order-btn').forEach(button => {
                        button.addEventListener('click', function () {
                            const itemId = this.getAttribute('data-id');
                            const itemName = this.getAttribute('data-name');
                            const itemPrice = parseFloat(this.getAttribute('data-price'));

                            // Show order modal
                            showOrderModal(itemId, itemName, itemPrice);
                        });
                    });
                }, 0);
            } else {
                // No results found
                const noResults = document.createElement('p');
                noResults.className = 'no-results';
                noResults.textContent = `No menu items found for "${searchTerm}". Try different keywords.`;
                searchResultsContainer.appendChild(noResults);
            }

            // Insert search results after the menu section title
            const menuSection = document.getElementById('menu');
            menuSection.appendChild(searchResultsContainer);
        }

        // Function to highlight matching text
        function highlightText(text, searchTerm) {
            if (!searchTerm) return text;

            const regex = new RegExp(`(${searchTerm})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }

        // Function to show order modal
        function showOrderModal(itemId, itemName, itemPrice) {
            // Create order modal if it doesn't exist
            if (!document.getElementById('orderModal')) {
                const orderModal = document.createElement('div');
                orderModal.id = 'orderModal';
                orderModal.className = 'modal';
                orderModal.innerHTML = `
                <div class="modal-content">
                    <button class="modal-close" id="orderModalClose">&times;</button>
                    <h2>Order ${itemName}</h2>
                    <form id="orderForm">
                        <div style="margin-bottom: 15px;">
                            <label for="orderName" style="display: block; margin-bottom: 5px;">Name</label>
                            <input type="text" id="orderName" required style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label for="orderEmail" style="display: block; margin-bottom: 5px;">Email</label>
                            <input type="email" id="orderEmail" required style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label for="orderPhone" style="display: block; margin-bottom: 5px;">Phone</label>
                            <input type="tel" id="orderPhone" required style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label for="orderQuantity" style="display: block; margin-bottom: 5px;">Quantity</label>
                            <input type="number" id="orderQuantity" min="1" value="1" required style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #e0e0e0; box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.8);">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <p><strong>Total: $<span id="orderTotal">${itemPrice.toFixed(2)}</span></strong></p>
                        </div>
                        <button type="submit" style="width: 100%; padding: 12px; background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">Place Order</button>
                    </form>
                </div>
            `;
                document.body.appendChild(orderModal);

                // Add event listeners
                document.getElementById('orderModalClose').addEventListener('click', function () {
                    orderModal.classList.remove('visible');
                });

                orderModal.addEventListener('click', function (e) {
                    if (e.target === orderModal) {
                        orderModal.classList.remove('visible');
                    }
                });

                document.getElementById('orderQuantity').addEventListener('input', function () {
                    const quantity = parseInt(this.value) || 1;
                    document.getElementById('orderTotal').textContent = (itemPrice * quantity).toFixed(2);
                });

                document.getElementById('orderForm').addEventListener('submit', function (e) {
                    e.preventDefault();

                    const orderData = {
                        customer_name: document.getElementById('orderName').value,
                        customer_email: document.getElementById('orderEmail').value,
                        customer_phone: document.getElementById('orderPhone').value,
                        items: [{
                            id: itemId,
                            name: itemName,
                            price: itemPrice,
                            quantity: parseInt(document.getElementById('orderQuantity').value) || 1
                        }],
                        total_amount: itemPrice * (parseInt(document.getElementById('orderQuantity').value) || 1)
                    };

                    fetch('http://localhost:3000/api/orders', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(orderData)
                    })
                        .then(response => response.json())
                        .then(data => {
                            alert('Order placed successfully!');
                            orderModal.classList.remove('visible');
                            document.getElementById('orderForm').reset();
                        })
                        .catch(error => {
                            console.error('Error placing order:', error);
                            alert('There was an error placing your order. Please try again.');
                        });
                });
            }

            // Show the modal
            document.getElementById('orderModal').classList.add('visible');
            document.getElementById('orderTotal').textContent = itemPrice.toFixed(2);
            document.getElementById('orderQuantity').value = 1;
        }
    </script>

    <script>
        const menuBtn = document.getElementById('menuBtn');
        const navMenu = document.getElementById('navMenu');
        const reservationBtn = document.getElementById('reservationBtn');
        const reservationModal = document.getElementById('reservationModal');
        const modalClose = document.getElementById('modalClose');
        const themeToggle = document.getElementById('themeToggle');
        const progressBar = document.getElementById('progressBar');
        const overlay = document.createElement('div');
        const item = document.querySelector('.nav-item');

        themeToggle.addEventListener('change', () => {
            document.body.classList.toggle('dark-mode');
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
        });

        // Check for saved dark mode preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            themeToggle.checked = true;
        }

        menuBtn.addEventListener('click', () => {
            menuBtn.classList.toggle('active');
            navMenu.classList.toggle('active');
            overlay.classList.toggle('active');
        });

        // Close menu when clicking on overlay
        overlay.addEventListener('click', () => {
            menuBtn.classList.remove('active');
            navMenu.classList.remove('active');
            overlay.classList.remove('active');
        });

        // Close menu when clicking on a nav item
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', (e) => {
                // Don't close if clicking on the theme toggle
                if (!e.target.closest('.toggle-switch')) {
                    menuBtn.classList.remove('active');
                    navMenu.classList.remove('active');
                    overlay.classList.remove('active');
                }
            });
        });

        reservationBtn.addEventListener('click', () => {
            reservationModal.classList.add('visible');
        });

        modalClose.addEventListener('click', () => {
            reservationModal.classList.remove('visible');
        });

        // Close modal when clicking outside
        reservationModal.addEventListener('click', (e) => {
            if (e.target === reservationModal) {
                reservationModal.classList.remove('visible');
            }
        });

        window.addEventListener('scroll', () => {
            const scrollTop = document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollPercent = (scrollTop / scrollHeight) * 100;
            progressBar.style.width = scrollPercent + '%';
        });

        // Toast Notification
        const toast = document.getElementById('toast');
        window.onload = () => {
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        };
        document.body.appendChild(overlay);
    </script>
</body>

</html>